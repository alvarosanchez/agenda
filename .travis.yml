addons:
  chrome: stable
  firefox: latest
language: java
install: true
jdk:
- oraclejdk8
script:
- "./gradlew -Dgeb.env=chromeHeadless test"
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
deploy:
  provider: elasticbeanstalk
  access_key_id:
    secure: "$ACCESSKEYID"
  secret_access_key:
    secure: "$SECRETACCESSKEY"
  region: eu-west-1
  app: greachagenda
  env: Greachagenda-env
  on:
    branch: master
    repo: greach/agenda
  zip_file: build/libs/agenda-0.1.jar
  bucket_name: "$BUCKETNAME"
env:
  global:
  - secure: I2v2+hiaQ6OY1WgJF4c7cmnHOOwQZo3V0ZitLOsAaXCj9Wl0UxnWWDn9hpmxM1G5ZeWSr3udr7S2ZQ/eHxlRV29F5ZtO8kXXWJ5q7lyTDkeECfNrtZhlBbASEoIVKUvML4Lm+kl0WkJ455NNwHa9F0GT826raLe4e/YkabUbfkyjkYP5tG8pXSvWxS6StzFYjE5nXEI35OmhDC+0SaBT4Xzb0Im96T0qR+j+1dX3greEmhZi62f+UukSMTexd96O5MqmjyD3LHSWDuHWkNECyqetdOCnLSfM0K39QshNQUo1bP9+ZlvMLhBVVVN7QXt2fMoSFdZcjh4cOKA8zBSRbHpRJBT2U18g++uk026LxNGrZ4zVa90RAft+rInk3bGCe1k+bFlbI8ay3/o4DNdq0MG5924+KplqnLCf/9Aqoskumfd1iR/ilLP8ZVlSEYBmlGUtyJye+9IzyffbIVDfATLKt0zW6H1YJAeQ/nM9WU2jb7R8LsDuFGlp6TU+/CC80BvYIUqlfimZ6xATZvfZVCM50Tsul8feq1HHR0GP4tuVaitCyJ1O+FyV9hRTBUeYoEeSjFWXBV1yYx0pHySI0Rq/W931Da4RxFEhCllEtbKpd9o0M9ZCA2QY6Z2mn3cD7VImXGcUQ2v2/aFJyWBtazejnf6K7J8zjNCtR0kKOsM=
  - secure: PeGRVfuw5EJGc3X/HXSiyR68u3lR0e2I4lzpUolfp1+BaBb4bH/9s6RrwY8EHptY3Tchab2lVQHpIstEPSIAvEMJTnOUu7R0wRw1cuPfeyIE2Gm+y5omJp8H8TLpFsVz13IO/DPs7s+NWsUDY0aklIiP9Pa63NECLwinLLoy0RLYQ/JX3rVniyL2KnnSF4qO/xsKVViUH+6KsnCwy6RuEnc4CXZxTPqRnFAkgkjuU8I47zi2//I8JMvU9vyFSVX2Hs+znaKiEraSxK4Sjuuo0IZL7fBMxUDhH+7ONxTlcAgBH2d8HaBCBzFDFVkCVsJSJwiXgULFfKElk9K/dfUmm3GdMhej1iw1ZX7XqEqb9XzvAKuhuxJ3+R6LoUWMKY39bp/SEIpZmMADNScsJjFL/aoA7m39WbbCyV0pXnFJaE+BPOguho6yFrglTnovI+ac2m/wqjvmcPYh4odt+ZYLN1fmtyQ8KE3ms+RKEHqdRKmaw6xKMK2JwIeXg4pWMDMgCEFIk4PktCFcDqMXKGLivDXMhVJ0fcyLUYdMf94CfbWPhnXzTf3Ka2wk3bscqC/3Jdn8/Qneok8q/n0xBsB/Z4s4MDlLObAICCZgx4dyFTk1t+c/EhL6VD0R5HtNmIiccGHq0s7UTM7MtixZdt52WDNdocaOyUwnqyoID7TlCrQ=
  - secure: S9QqWiqG0DUSLoHOEGZMhobSioDc1bNKTkEN/Ta/oESTLzkpkPWqSNXWOrwZzfaXaSUFirdxYtSvOYbUoiIVvWD3UaD/hSajY/puPizE2luUuBHzSNjhBbf8EGk1KaCtiO83I1zeIqkNCMBbFZCz2PC0w0n2Tf4ao5yDdpVTA3XPKlMyKAO0dRFwzX9o8amEPHkBrrbNb7jTgIMX2QGu33RkyMYHN+32IOJ0ZPe2KV423M7MdIRNccXFl1Q2XIYmRq9SqK5gOJHQcPZaQpYayImNGW3kk+N8unUpHsZNnHjITnscCUvHkl2+7eJZrSiRigkxq4pg90xvj/8KhPaAMzhAlv24JWQMzV7AdLJVWaaH3Yr1TVJM9VD962+Ng0eoIWXZKrf7BDLSKl6oVcZP7NqVnWN3OrOQFoT8uZk0Bv1OptsoQslcY4rhklfQJkuZIAKqZ1nyQdfe1qxT3o8Mrb1ROGT3WFrrS+5a4ZjJdKXKixMXuWCQyvkI95GJcFLoCqQjNy53P/HMPKFgn/zsTuw0Z47Ma0kufaB8wQyFN4lyn0CAe9O71QiHYGk/q8kcUjHgTY9moVmNEHbaOVtMMf7AfuWXF7BJldj7x4ON4P3GXBIDDIOGy9Cc4iosvD7ISGxB9kBY2U0WhJMvD9dvZeX3Si4OjF/mzjw9pXd43Aw=
  - secure: JO7H3NH7eCSxPFYoME4I/JJ87INQG86RAhKo3YN1PI6PB4H20oLRklSC7v+IRIj+yNgt/9UlzmaQ3MLxj2pWbGhnDohSI3WUEpbrnT+M+zkzfVdeFkctnbMdmfne8lrw/RlBX5E+7P9Ez7aOgLHkhNL7o1F1HFZd3UEeKbrT+/Fl2egw6oUxehDaK8nB0cgVJmfvuQi7H7WAvuD7UNQFnHOrZFBFGKCpzPnxOkwJzMdCxv1BThNb4/DocDv4TilWoA4FEQfOpfNS0xLSMtai550ya7fZMo+m6um6VhxDLIwCINC3dYlOzriL1Il6SoW4nP/uJEOLbXJ9S5DmvEgfZNrs7qfjEh5jxTGwW7mrUlMlaEC28VybBdImjHwddKxReQFU6SGNzt1rLwMlXsAdN/Hu/HimnJWULyRUMDH9yaFeDV2Ftp/O+Vb9yfwjXx4V8ykJ9BxaZ/K9ognx6AiuHORqr67aMMkijsdEJYwEeL6fj/LC8OhuXNdb0zVMHRiGOtY3LWS5AkhalcveMaWuyv5gdgJL7G2CbQirLXWt3caeuMfa4TN0udO03GOGqmnnPbfeGfoDAty+TgTg//upXmNux4Kj6TBwgH0cBCjnyDKFSRzQGxKlmV27l8oLEmfKVevXfX8r+yKd9y9IlAhSoTo1pgG5FmA9qorPh9TNW9M=
